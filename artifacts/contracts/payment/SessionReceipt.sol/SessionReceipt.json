{
  "_format": "hh-sol-artifact-1",
  "contractName": "SessionReceipt",
  "sourceName": "contracts/payment/SessionReceipt.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_nodesStorage",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_usageDepositor",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "client",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "node",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "nonce",
          "type": "uint256"
        }
      ],
      "name": "SessionReceiptConfirmed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "client",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "node",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "totalSecondsServed",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "tokenAddress",
          "type": "address"
        }
      ],
      "name": "SessionReceiptCreated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "nonce",
          "type": "uint256"
        }
      ],
      "name": "confirmSessionReceipt",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "client",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "totalSecondsServed",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "tokenAddress",
          "type": "address"
        },
        {
          "internalType": "enum TokenType",
          "name": "tokenType",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "nonce",
          "type": "uint256"
        }
      ],
      "name": "createSessionReceipt",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "client",
          "type": "address"
        }
      ],
      "name": "getLatestReceipt",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "client",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "node",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "totalSecondsServed",
              "type": "uint256"
            },
            {
              "internalType": "enum TokenType",
              "name": "tokenType",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "tokenAddress",
              "type": "address"
            },
            {
              "internalType": "enum LibSessionReceipt.SessionReceiptStatus",
              "name": "status",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "nonce",
              "type": "uint256"
            }
          ],
          "internalType": "struct LibSessionReceipt.SessionReceipt",
          "name": "receipt",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "client",
          "type": "address"
        }
      ],
      "name": "getNonce",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "client",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "nonce",
          "type": "uint256"
        }
      ],
      "name": "getSessionReceipt",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "client",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "node",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "totalSecondsServed",
              "type": "uint256"
            },
            {
              "internalType": "enum TokenType",
              "name": "tokenType",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "tokenAddress",
              "type": "address"
            },
            {
              "internalType": "enum LibSessionReceipt.SessionReceiptStatus",
              "name": "status",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "nonce",
              "type": "uint256"
            }
          ],
          "internalType": "struct LibSessionReceipt.SessionReceipt",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nodesStorage",
      "outputs": [
        {
          "internalType": "contract INodesStorage",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "client",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "nonce",
          "type": "uint256"
        }
      ],
      "name": "redeemReceipt",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "usageDepositor",
      "outputs": [
        {
          "internalType": "contract IUsageDepositor",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50604051610f5b380380610f5b83398101604081905261002f916100dc565b600160005561003d3361006e565b600280546001600160a01b039384166001600160a01b0319918216179091556003805492909316911617905561010f565b600180546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b80516001600160a01b03811681146100d757600080fd5b919050565b600080604083850312156100ef57600080fd5b6100f8836100c0565b9150610106602084016100c0565b90509250929050565b610e3d8061011e6000396000f3fe608060405234801561001057600080fd5b50600436106100a95760003560e01c80638da5cb5b116100715780638da5cb5b146101455780638eb59f8b14610156578063e244c4ff14610176578063e5483f5c14610189578063f2f8f9401461019c578063f2fde38b146101af57600080fd5b80632d0335ab146100ae57806355d3c58a146100ea57806364cf88c2146100ff578063715018a61461012a578063760643b214610132575b600080fd5b6100d76100bc366004610c3f565b6001600160a01b031660009081526005602052604090205490565b6040519081526020015b60405180910390f35b6100fd6100f8366004610c61565b6101c2565b005b600354610112906001600160a01b031681565b6040516001600160a01b0390911681526020016100e1565b6100fd610427565b6100fd610140366004610c8b565b61043b565b6001546001600160a01b0316610112565b610169610164366004610c61565b61072b565b6040516100e19190610d10565b600254610112906001600160a01b031681565b6100fd610197366004610d8a565b610846565b6101696101aa366004610c3f565b61094f565b6100fd6101bd366004610c3f565b610aad565b600254604051639ebd11ef60e01b81523360048201526001600160a01b0390911690639ebd11ef90602401602060405180830381865afa15801561020a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061022e9190610da3565b6102795760405162461bcd60e51b8152602060048201526017602482015276139bd919481a5cc81b9bdd081dda1a5d195b1a5cdd1959604a1b60448201526064015b60405180910390fd5b610281610b23565b6001600160a01b038216600090815260046020908152604080832084845290915290206002600382810154600160a81b900460ff16908111156102c6576102c6610ce6565b146103135760405162461bcd60e51b815260206004820181905260248201527f53657373696f6e2072656365697074206973206e6f7420636f6e6669726d65646044820152606401610270565b60018101546001600160a01b0316331461037f5760405162461bcd60e51b815260206004820152602760248201527f53656e646572206973206e6f74206e6f646520696e2073657373696f6e2773206044820152661c9958d95a5c1d60ca1b6064820152608401610270565b60038054825460018401546002850154938501546040516338e0bafb60e11b81526001600160a01b039384166004820152918316602483015260448201949094526101009093048116606484015216906371c175f690608401600060405180830381600087803b1580156103f257600080fd5b505af1158015610406573d6000803e3d6000fd5b50505050600301805460ff60a81b1916600360a81b17905550506001600055565b61042f610b7c565b6104396000610bd6565b565b610443610b23565b600254604051639ebd11ef60e01b81523360048201526001600160a01b0390911690639ebd11ef90602401602060405180830381865afa15801561048b573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104af9190610da3565b6104f55760405162461bcd60e51b8152602060048201526017602482015276139bd919481a5cc81b9bdd081dda1a5d195b1a5cdd1959604a1b6044820152606401610270565b6001600160a01b038516600090815260056020526040902054811461054c5760405162461bcd60e51b815260206004820152600d60248201526c496e76616c6964206e6f6e636560981b6044820152606401610270565b60006040518060e00160405280876001600160a01b03168152602001336001600160a01b0316815260200186815260200184600181111561058f5761058f610ce6565b81526001600160a01b03861660208201526040016001815260209081018490526001600160a01b038881166000908152600483526040808220878352845290819020845181546001600160a01b0319908116918516919091178255938501516001808301805490961691909416179093558301516002830155606083015160038301805494955085949192909160ff191690838181111561063257610632610ce6565b021790555060808201518160030160016101000a8154816001600160a01b0302191690836001600160a01b0316021790555060a08201518160030160156101000a81548160ff0219169083600381111561068e5761068e610ce6565b021790555060c091909101516004909101556001600160a01b03861660009081526005602052604081208054916106c483610ddb565b9091555050604080516001600160a01b0388811682523360208301528183018890528616606082015290517f5b41fa5a246197b0d07600ec73bc1049ffe75eb19383fdd8664b0f37e057c1179181900360800190a1506107246001600055565b5050505050565b6040805160e081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905260c08101919091526001600160a01b038084166000908152600460209081526040808320868452825291829020825160e0810184528154851681526001808301549095169281019290925260028101549282019290925260038201549092606084019160ff16908111156107d2576107d2610ce6565b60018111156107e3576107e3610ce6565b815260038281015461010081046001600160a01b03166020840152604090920191600160a81b900460ff169081111561081e5761081e610ce6565b600381111561082f5761082f610ce6565b815260200160048201548152505090505b92915050565b61084e610b23565b33600090815260046020908152604080832084845290915290206001600382810154600160a81b900460ff169081111561088a5761088a610ce6565b146108d75760405162461bcd60e51b815260206004820152601e60248201527f53657373696f6e2072656365697074206973206e6f742070656e64696e6700006044820152606401610270565b60038101805460ff60a81b1916600160a91b179055805460018201546004830154604080516001600160a01b03948516815293909216602084015282820152517fd56648885e56047e04b1f631de6afaa1f1b81eeeb672ba27ebaafe44db00c1e69181900360600190a15061094c6001600055565b50565b6040805160e08101825260008082526020808301829052828401829052606083018290526080830182905260a0830182905260c083018290526001600160a01b038516825260059052919091205415610aa8576001600160a01b0382166000908152600560205260408120546109c790600190610df4565b6001600160a01b038085166000908152600460209081526040808320858452825291829020825160e081018452815485168152600180830154909516928101929092526002810154928201929092526003820154939450929091606084019160ff1690811115610a3957610a39610ce6565b6001811115610a4a57610a4a610ce6565b815260038281015461010081046001600160a01b03166020840152604090920191600160a81b900460ff1690811115610a8557610a85610ce6565b6003811115610a9657610a96610ce6565b81526020016004820154815250509150505b919050565b610ab5610b7c565b6001600160a01b038116610b1a5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610270565b61094c81610bd6565b600260005403610b755760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152606401610270565b6002600055565b6001546001600160a01b031633146104395760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610270565b600180546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b80356001600160a01b0381168114610aa857600080fd5b600060208284031215610c5157600080fd5b610c5a82610c28565b9392505050565b60008060408385031215610c7457600080fd5b610c7d83610c28565b946020939093013593505050565b600080600080600060a08688031215610ca357600080fd5b610cac86610c28565b945060208601359350610cc160408701610c28565b9250606086013560028110610cd557600080fd5b949793965091946080013592915050565b634e487b7160e01b600052602160045260246000fd5b60048110610d0c57610d0c610ce6565b9052565b81516001600160a01b0390811682526020808401519091169082015260408083015190820152606082015160e082019060028110610d5057610d50610ce6565b60608301526080838101516001600160a01b03169083015260a08381015190610d7b90840182610cfc565b5060c092830151919092015290565b600060208284031215610d9c57600080fd5b5035919050565b600060208284031215610db557600080fd5b81518015158114610c5a57600080fd5b634e487b7160e01b600052601160045260246000fd5b600060018201610ded57610ded610dc5565b5060010190565b8181038181111561084057610840610dc556fea26469706673582212207b0afaa7f6cea8e18c728154f0d1330178f1f738eeaf5b25097ad68a72a0e6ff64736f6c634300081c0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100a95760003560e01c80638da5cb5b116100715780638da5cb5b146101455780638eb59f8b14610156578063e244c4ff14610176578063e5483f5c14610189578063f2f8f9401461019c578063f2fde38b146101af57600080fd5b80632d0335ab146100ae57806355d3c58a146100ea57806364cf88c2146100ff578063715018a61461012a578063760643b214610132575b600080fd5b6100d76100bc366004610c3f565b6001600160a01b031660009081526005602052604090205490565b6040519081526020015b60405180910390f35b6100fd6100f8366004610c61565b6101c2565b005b600354610112906001600160a01b031681565b6040516001600160a01b0390911681526020016100e1565b6100fd610427565b6100fd610140366004610c8b565b61043b565b6001546001600160a01b0316610112565b610169610164366004610c61565b61072b565b6040516100e19190610d10565b600254610112906001600160a01b031681565b6100fd610197366004610d8a565b610846565b6101696101aa366004610c3f565b61094f565b6100fd6101bd366004610c3f565b610aad565b600254604051639ebd11ef60e01b81523360048201526001600160a01b0390911690639ebd11ef90602401602060405180830381865afa15801561020a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061022e9190610da3565b6102795760405162461bcd60e51b8152602060048201526017602482015276139bd919481a5cc81b9bdd081dda1a5d195b1a5cdd1959604a1b60448201526064015b60405180910390fd5b610281610b23565b6001600160a01b038216600090815260046020908152604080832084845290915290206002600382810154600160a81b900460ff16908111156102c6576102c6610ce6565b146103135760405162461bcd60e51b815260206004820181905260248201527f53657373696f6e2072656365697074206973206e6f7420636f6e6669726d65646044820152606401610270565b60018101546001600160a01b0316331461037f5760405162461bcd60e51b815260206004820152602760248201527f53656e646572206973206e6f74206e6f646520696e2073657373696f6e2773206044820152661c9958d95a5c1d60ca1b6064820152608401610270565b60038054825460018401546002850154938501546040516338e0bafb60e11b81526001600160a01b039384166004820152918316602483015260448201949094526101009093048116606484015216906371c175f690608401600060405180830381600087803b1580156103f257600080fd5b505af1158015610406573d6000803e3d6000fd5b50505050600301805460ff60a81b1916600360a81b17905550506001600055565b61042f610b7c565b6104396000610bd6565b565b610443610b23565b600254604051639ebd11ef60e01b81523360048201526001600160a01b0390911690639ebd11ef90602401602060405180830381865afa15801561048b573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104af9190610da3565b6104f55760405162461bcd60e51b8152602060048201526017602482015276139bd919481a5cc81b9bdd081dda1a5d195b1a5cdd1959604a1b6044820152606401610270565b6001600160a01b038516600090815260056020526040902054811461054c5760405162461bcd60e51b815260206004820152600d60248201526c496e76616c6964206e6f6e636560981b6044820152606401610270565b60006040518060e00160405280876001600160a01b03168152602001336001600160a01b0316815260200186815260200184600181111561058f5761058f610ce6565b81526001600160a01b03861660208201526040016001815260209081018490526001600160a01b038881166000908152600483526040808220878352845290819020845181546001600160a01b0319908116918516919091178255938501516001808301805490961691909416179093558301516002830155606083015160038301805494955085949192909160ff191690838181111561063257610632610ce6565b021790555060808201518160030160016101000a8154816001600160a01b0302191690836001600160a01b0316021790555060a08201518160030160156101000a81548160ff0219169083600381111561068e5761068e610ce6565b021790555060c091909101516004909101556001600160a01b03861660009081526005602052604081208054916106c483610ddb565b9091555050604080516001600160a01b0388811682523360208301528183018890528616606082015290517f5b41fa5a246197b0d07600ec73bc1049ffe75eb19383fdd8664b0f37e057c1179181900360800190a1506107246001600055565b5050505050565b6040805160e081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905260c08101919091526001600160a01b038084166000908152600460209081526040808320868452825291829020825160e0810184528154851681526001808301549095169281019290925260028101549282019290925260038201549092606084019160ff16908111156107d2576107d2610ce6565b60018111156107e3576107e3610ce6565b815260038281015461010081046001600160a01b03166020840152604090920191600160a81b900460ff169081111561081e5761081e610ce6565b600381111561082f5761082f610ce6565b815260200160048201548152505090505b92915050565b61084e610b23565b33600090815260046020908152604080832084845290915290206001600382810154600160a81b900460ff169081111561088a5761088a610ce6565b146108d75760405162461bcd60e51b815260206004820152601e60248201527f53657373696f6e2072656365697074206973206e6f742070656e64696e6700006044820152606401610270565b60038101805460ff60a81b1916600160a91b179055805460018201546004830154604080516001600160a01b03948516815293909216602084015282820152517fd56648885e56047e04b1f631de6afaa1f1b81eeeb672ba27ebaafe44db00c1e69181900360600190a15061094c6001600055565b50565b6040805160e08101825260008082526020808301829052828401829052606083018290526080830182905260a0830182905260c083018290526001600160a01b038516825260059052919091205415610aa8576001600160a01b0382166000908152600560205260408120546109c790600190610df4565b6001600160a01b038085166000908152600460209081526040808320858452825291829020825160e081018452815485168152600180830154909516928101929092526002810154928201929092526003820154939450929091606084019160ff1690811115610a3957610a39610ce6565b6001811115610a4a57610a4a610ce6565b815260038281015461010081046001600160a01b03166020840152604090920191600160a81b900460ff1690811115610a8557610a85610ce6565b6003811115610a9657610a96610ce6565b81526020016004820154815250509150505b919050565b610ab5610b7c565b6001600160a01b038116610b1a5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610270565b61094c81610bd6565b600260005403610b755760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152606401610270565b6002600055565b6001546001600160a01b031633146104395760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610270565b600180546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b80356001600160a01b0381168114610aa857600080fd5b600060208284031215610c5157600080fd5b610c5a82610c28565b9392505050565b60008060408385031215610c7457600080fd5b610c7d83610c28565b946020939093013593505050565b600080600080600060a08688031215610ca357600080fd5b610cac86610c28565b945060208601359350610cc160408701610c28565b9250606086013560028110610cd557600080fd5b949793965091946080013592915050565b634e487b7160e01b600052602160045260246000fd5b60048110610d0c57610d0c610ce6565b9052565b81516001600160a01b0390811682526020808401519091169082015260408083015190820152606082015160e082019060028110610d5057610d50610ce6565b60608301526080838101516001600160a01b03169083015260a08381015190610d7b90840182610cfc565b5060c092830151919092015290565b600060208284031215610d9c57600080fd5b5035919050565b600060208284031215610db557600080fd5b81518015158114610c5a57600080fd5b634e487b7160e01b600052601160045260246000fd5b600060018201610ded57610ded610dc5565b5060010190565b8181038181111561084057610840610dc556fea26469706673582212207b0afaa7f6cea8e18c728154f0d1330178f1f738eeaf5b25097ad68a72a0e6ff64736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
